{% extends 'base.html' %}
{% block content %}
<div class="calendar-header">
  <a class="nav" href="{{ url_for('calendar_page', year=prev_year, month=prev_month) }}" title="Previous month">←</a>
  <h2>{{ month_name }} {{ year }}</h2>
  <div class="cal-actions">
    <a class="nav" href="{{ url_for('calendar_page', year=today.year, month=today.month) }}" title="Jump to current month">Today</a>
    <a class="nav" href="{{ url_for('calendar_page', year=next_year, month=next_month) }}" title="Next month">→</a>
  </div>
</div>

<div class="calendar-grid">
  <div class="dow">Mon</div>
  <div class="dow">Tue</div>
  <div class="dow">Wed</div>
  <div class="dow">Thu</div>
  <div class="dow">Fri</div>
  <div class="dow">Sat</div>
  <div class="dow">Sun</div>

  {% for week in weeks %}
    {% for d in week %}
      {% if d == 0 %}
        <div class="day empty"></div>
      {% else %}
  {% set is_today = (year == today.year and month == today.month and d == today.day) %}
  <a class="day{% if is_today %} today{% endif %}" href="{{ url_for('calc') }}?birthday={{ '%04d-%02d-%02d'|format(year, month, d) }}">{{ d }}</a>
      {% endif %}
    {% endfor %}
  {% endfor %}
</div>

<p class="muted"><a href="{{ url_for('index') }}">Back</a></p>
{% endblock %}
